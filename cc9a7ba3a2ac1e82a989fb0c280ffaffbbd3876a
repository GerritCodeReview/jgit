{
  "comments": [
    {
      "key": {
        "uuid": "AABODX///88\u003d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-27T21:25:57Z",
      "side": 1,
      "message": "What server is emitting a Content-Type of \"application/x-git-upload-pack-advertisement; charset\u003d...\"?\n\nThe server is wrong.",
      "revId": "cc9a7ba3a2ac1e82a989fb0c280ffaffbbd3876a",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABODX///7I\u003d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 89
      },
      "writtenOn": "2011-12-28T08:46:41Z",
      "side": 1,
      "message": "https://appharbor.com/ returns such header. Native git is able to clone from appharbor. As I understand, it decides what protocol to use inside process_connect_service of transport-helper.c, and it doesn\u0027t check headers of response. That why I thought I can fix it like that.",
      "parentUuid": "AABODX///88\u003d",
      "revId": "cc9a7ba3a2ac1e82a989fb0c280ffaffbbd3876a",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOG3//83E\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/TransportHttp.java",
        "patchSetId": 3
      },
      "lineNbr": 524,
      "author": {
        "id": 1
      },
      "writtenOn": "2012-04-19T14:05:00Z",
      "side": 1,
      "message": "I don\u0027t like the idea of checking the content type with startsWith, its still a fuzzy check.... and that server is still wrong. This MIME type doesn\u0027t take a charset because the character encoding of branch names is uhm, unspecified by Git.\n\nC Git does the is smart check by slurping the entire response body into a buffer and then reading the start of the buffer. If we changed this code to do the same thing, I would be more comfortable with the idea of dropping the content type check altogether and ignoring it like C Git does. But that is pretty stupid to not check the content type.\n\nA better way to check this MIME type is something like:\n\n  String actType \u003d c.getContentType();\n  if (actType \u003d\u003d null)\n    return false;\n  int s \u003d actType.indexOf(\u0027;\u0027);\n  if (s \u003e 0)\n    actType \u003d actType.substring(0, s);\n  return expType.equals(actType);",
      "revId": "cc9a7ba3a2ac1e82a989fb0c280ffaffbbd3876a",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
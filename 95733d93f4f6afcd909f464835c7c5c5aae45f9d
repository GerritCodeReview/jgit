{
  "comments": [
    {
      "key": {
        "uuid": "22c4ae85_f9445fd5",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/pack/CachedPackUriProvider.java",
        "patchSetId": 13
      },
      "lineNbr": 69,
      "author": {
        "id": 201156
      },
      "writtenOn": "2019-07-24T20:39:12Z",
      "side": 1,
      "message": "Maybe this should be two methods (getHash and getUri)? The format in the string is a protocol detail. In other words, if we want the URI for something else, it would be odd to get it splitting an string.",
      "range": {
        "startLine": 69,
        "startChar": 8,
        "endLine": 69,
        "endChar": 21
      },
      "revId": "95733d93f4f6afcd909f464835c7c5c5aae45f9d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "689e3a7d_5b7de1ad",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/pack/CachedPackUriProvider.java",
        "patchSetId": 13
      },
      "lineNbr": 69,
      "author": {
        "id": 150123
      },
      "writtenOn": "2019-07-24T21:46:41Z",
      "side": 1,
      "message": "If we use 2 methods, let\u0027s say getHash(CachedPack, Collection\u003cString\u003e) and getUri(CachedPack), access control (for example) will have to be run when either method is called. Even if we document getUri(CachedPack) to say that it will never be called except when the corresponding getHash call returns non-null, I don\u0027t think that avoids the issue - for me, it would be good practice to put it there too. For that reason I think it\u0027s better to just combine everything into one method.\n\nOne thing we could do is to have a data object. Data objects are clumsy to use though without tools like AutoValue, so since the string is something documented in the protocol, I thought it would be best just to return the string as the protocol dictates.",
      "parentUuid": "22c4ae85_f9445fd5",
      "range": {
        "startLine": 69,
        "startChar": 8,
        "endLine": 69,
        "endChar": 21
      },
      "revId": "95733d93f4f6afcd909f464835c7c5c5aae45f9d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed5f705c_7e4118a7",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPack.java",
        "patchSetId": 13
      },
      "lineNbr": 1286,
      "author": {
        "id": 201156
      },
      "writtenOn": "2019-07-24T20:39:12Z",
      "side": 1,
      "message": "Optional: Should this be always advertised (like shallow or server-option)? If there is no cachedPackUriProvider, it won\u0027t return packfile-uris and the client is still happy. Other capabilities are either advertised or configurable, not depending in the UploadPack instantiation.",
      "range": {
        "startLine": 1286,
        "startChar": 5,
        "endLine": 1286,
        "endChar": 26
      },
      "revId": "95733d93f4f6afcd909f464835c7c5c5aae45f9d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5eafde1a_3937c772",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPack.java",
        "patchSetId": 13
      },
      "lineNbr": 1286,
      "author": {
        "id": 150123
      },
      "writtenOn": "2019-07-24T21:46:41Z",
      "side": 1,
      "message": "\u003e Should this be always advertised (like shallow or server-option)? If there is no cachedPackUriProvider, it won\u0027t return packfile-uris and the client is still happy.\n\nThat is true, but it seems confusing to advertise something without being prepared to supply it (even though this is allowed by the specification, as you said).\n\n\u003e Other capabilities are either advertised or configurable, not depending in the UploadPack instantiation.\n\nThat\u0027s true, but in this case, the user of UploadPack has to specify a CachedPackUriProvider anyway (if not, it won\u0027t work, because there are no URIs) so it didn\u0027t seem necessary to also have a configuration option, and only advertise this if the CachedPackUriProvider is provided *and* the configuration option is set.",
      "parentUuid": "ed5f705c_7e4118a7",
      "range": {
        "startLine": 1286,
        "startChar": 5,
        "endLine": 1286,
        "endChar": 26
      },
      "revId": "95733d93f4f6afcd909f464835c7c5c5aae45f9d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0b12881_fa44225d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPack.java",
        "patchSetId": 13
      },
      "lineNbr": 2315,
      "author": {
        "id": 201156
      },
      "writtenOn": "2019-07-24T20:39:12Z",
      "side": 1,
      "message": "All branches end in pw.writePack(pm, null monitor, packOut); \nMaybe it can be moved after the ifs  ?",
      "range": {
        "startLine": 2315,
        "startChar": 60,
        "endLine": 2315,
        "endChar": 0
      },
      "revId": "95733d93f4f6afcd909f464835c7c5c5aae45f9d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21bc51ae_bb44cef8",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPack.java",
        "patchSetId": 13
      },
      "lineNbr": 2315,
      "author": {
        "id": 150123
      },
      "writtenOn": "2019-07-24T21:46:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b0b12881_fa44225d",
      "range": {
        "startLine": 2315,
        "startChar": 60,
        "endLine": 2315,
        "endChar": 0
      },
      "revId": "95733d93f4f6afcd909f464835c7c5c5aae45f9d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "7e1aab3a_ccbcae6b",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/util/Paths.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 5
      },
      "writtenOn": "2018-08-27T13:50:32Z",
      "side": 0,
      "message": "The old logic was: if the paths are equal by the pathname then both must be TREEs or both must be non TREEs in order to let compare return 0. You have changed that. If one of them is a GITLINK and you\u0027ll always return 0. Even if one is a GITLINK and the other one is a regular file. Sounds strange, or? Shouldn\u0027t compare on a file and a submodule return false?\n\nWhat about the idea to let this line in and modify lastPathChar() to return \u0027/\u0027 on TREEs and GITLINKs?",
      "revId": "40e9c384052a9b86ed0b51dc435d83e58515e48d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a11f4d59_f3eb0867",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/util/Paths.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-09-02T15:15:50Z",
      "side": 0,
      "message": "That would make that IndexDiffSubmoduleTest.testSubmoduleReplacedByFile test fail; i.e., it would change behavior.\n\nAt this point the paths are identical, and yes, with the new implementation, GITLINKs will be equal to TREEs and FILEs. Before the change, GITLINKs also did match FILEs.\n\nWe can\u0027t make lastPathChar() return \u0027/\u0027 for GITLINKs; that would change the sorting order, making CleanCommandTest.testCleanDirsWithSubmodule fail. In fact, I tried that first, and it\u0027s the reason for the new test in CleanCommandTest. If we do this, the order in the WorkingTreeIterator will be different from the other iterators, and things go really haywire.",
      "parentUuid": "7e1aab3a_ccbcae6b",
      "revId": "40e9c384052a9b86ed0b51dc435d83e58515e48d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7ea0e9c_ae2113b8",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/util/Paths.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 5
      },
      "writtenOn": "2018-09-03T06:51:46Z",
      "side": 0,
      "message": "\u003e We can\u0027t make lastPathChar() return \u0027/\u0027 for GITLINKs; that would\n \u003e change the sorting order, making CleanCommandTest.testCleanDirsWithSubmodule\n \u003e fail. In fact, I tried that first, and it\u0027s the reason for the new\n \u003e test in CleanCommandTest. If we do this, the order in the\n \u003e WorkingTreeIterator will be different from the other iterators, and\n \u003e things go really haywire.\n\nOk, got that. +1",
      "parentUuid": "a11f4d59_f3eb0867",
      "revId": "40e9c384052a9b86ed0b51dc435d83e58515e48d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
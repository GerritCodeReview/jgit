{
  "comments": [
    {
      "key": {
        "uuid": "0f74c4bc_43388aa8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 44628
      },
      "writtenOn": "2020-11-16T21:30:22Z",
      "side": 1,
      "message": "One Signed-off line is good enough. You could remove the first one.",
      "revId": "9f45e3030f98d5297bb8d73a6dba03b9b7e066f4",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad7752ad_cd204246",
        "filename": "org.eclipse.jgit.pgm/resources/org/eclipse/jgit/pgm/internal/CLIText.properties",
        "patchSetId": 2
      },
      "lineNbr": 259,
      "author": {
        "id": 44628
      },
      "writtenOn": "2020-11-16T21:23:31Z",
      "side": 1,
      "message": "I realize this description comes from the C git documentation, but this snippet is missing the crucial information that this is about symrefs. How about \"When showing a symbolic ref also show the underlying ref in addition to the object pointed at\"?\n\nBTW, I find the phrasing \"pointed by it\" (also not your fault, but from C git) ungrammatical; shouldn\u0027t that be at least \"pointed to by it\" (or \"pointed at by it\")? (Which also grates -- \"by it\" is just superfluous.)",
      "revId": "9f45e3030f98d5297bb8d73a6dba03b9b7e066f4",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59810974_96f26d84",
        "filename": "org.eclipse.jgit.pgm/resources/org/eclipse/jgit/pgm/internal/CLIText.properties",
        "patchSetId": 2
      },
      "lineNbr": 259,
      "author": {
        "id": 301457
      },
      "writtenOn": "2020-11-18T02:17:22Z",
      "side": 1,
      "message": "Sounds better. However, one thing I wanted to discuss at review was the fact I am specifically only looking for a HEAD symref in capabilities, my reading of the spec is there there could be multiple symrefs. I could do 1 of 3 things:\n1. Handle any and all symrefs in capabilities - I don\u0027t know if the surrounding fetch code will correct write local symrefs for these, I believe c git creates them in refs rather than packed-refs\n2. Keep it to just the HEAD we need to choose the correct branch on clone and omit the lsRemote change\n3. Keep it to just the HEAD we need to choose the correct branch on clone, keep the lsRemote change but update the description to indicate it only reads any HEAD symref\n\nIn fact the C git help has been updated since I copied that description and now says:\n\n\"In addition to the object pointed by it, show the underlying ref pointed by it when showing a symbolic ref. Currently, upload-pack only shows the symref HEAD, so it will be the only one shown by ls-remote.\"\n\nwhich implies the c git ls-remote would show other symrefs if upload-pack included them, but I think it\u0027s OK to not worry about catering for that here unless and until something might advertise them. Therefore, I would change it to:\n\n\"In addition to the object pointed at, show the underlying ref pointed at when showing a symbolic ref. Currently, only a HEAD symref is read, so it will be the only one ls-remote might show.\"",
      "parentUuid": "ad7752ad_cd204246",
      "revId": "9f45e3030f98d5297bb8d73a6dba03b9b7e066f4",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e569b25_66af1680",
        "filename": "org.eclipse.jgit.pgm/resources/org/eclipse/jgit/pgm/internal/CLIText.properties",
        "patchSetId": 2
      },
      "lineNbr": 259,
      "author": {
        "id": 44628
      },
      "writtenOn": "2020-11-18T07:30:30Z",
      "side": 1,
      "message": "LsRemote as you implemented it would also show other symrefs (which is fine and is what the C git implementation also does), and CloneCommand only cares about HEAD. I think that\u0027s fine and the mention that currently only HEAD is read is not needed. It\u0027s already a bit misleading in C git: it\u0027s not ls-remote reading only HEAD, it\u0027s the server side only writing HEAD.\n\nOtherwise either help text is fine.",
      "parentUuid": "59810974_96f26d84",
      "revId": "9f45e3030f98d5297bb8d73a6dba03b9b7e066f4",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42ae3a9c_1a107eb3",
        "filename": "org.eclipse.jgit.test/tst/org/eclipse/jgit/api/CloneCommandTest.java",
        "patchSetId": 2
      },
      "lineNbr": 855,
      "author": {
        "id": 44628
      },
      "writtenOn": "2020-11-16T21:23:31Z",
      "side": 1,
      "message": "This check comes one line too late. Or omit and let the test throw an NPE.",
      "revId": "9f45e3030f98d5297bb8d73a6dba03b9b7e066f4",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb38d227_5de75f7a",
        "filename": "org.eclipse.jgit.test/tst/org/eclipse/jgit/api/CloneCommandTest.java",
        "patchSetId": 2
      },
      "lineNbr": 855,
      "author": {
        "id": 301457
      },
      "writtenOn": "2020-11-18T02:17:22Z",
      "side": 1,
      "message": "You\u0027re right, I copy-pasted this from another test without reading closely enough, many other tests in here have that same issue - I\u0027ll fix them all.",
      "parentUuid": "42ae3a9c_1a107eb3",
      "revId": "9f45e3030f98d5297bb8d73a6dba03b9b7e066f4",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "712d5a03_9b19b4c3",
        "filename": "org.eclipse.jgit.test/tst/org/eclipse/jgit/api/CloneCommandTest.java",
        "patchSetId": 2
      },
      "lineNbr": 870,
      "author": {
        "id": 44628
      },
      "writtenOn": "2020-11-16T21:23:31Z",
      "side": 1,
      "message": "Same as above.",
      "revId": "9f45e3030f98d5297bb8d73a6dba03b9b7e066f4",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    }
  ]
}
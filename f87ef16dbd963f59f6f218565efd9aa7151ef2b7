{
  "comments": [
    {
      "key": {
        "uuid": "699ff490_b7976edd",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPack.java",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 129259
      },
      "writtenOn": "2018-03-23T04:10:46Z",
      "side": 1,
      "message": "Is there any relationship between the Tag refs and the wantIds?  Anyway to avoid fetching all the refs?",
      "range": {
        "startLine": 965,
        "startChar": 4,
        "endLine": 965,
        "endChar": 8
      },
      "revId": "f87ef16dbd963f59f6f218565efd9aa7151ef2b7",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ce34c04_25c366d4",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPack.java",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 150123
      },
      "writtenOn": "2018-03-23T20:42:17Z",
      "side": 1,
      "message": "I don\u0027t think so - a commit could be pointed to by a wantId (directly or indirectly) and an annotated tag, and both of them may not be related. I think that we do have to scan all the refs, see which of them are pointing to annotated tags, and see which of those tags point to a commit being sent.",
      "parentUuid": "699ff490_b7976edd",
      "range": {
        "startLine": 965,
        "startChar": 4,
        "endLine": 965,
        "endChar": 8
      },
      "revId": "f87ef16dbd963f59f6f218565efd9aa7151ef2b7",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8b29a666_620ddcdd",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPack.java",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 129259
      },
      "writtenOn": "2018-03-23T23:03:58Z",
      "side": 1,
      "message": "woud refs\u003dgetRefs(\"refs/tags/\") work?",
      "parentUuid": "2ce34c04_25c366d4",
      "range": {
        "startLine": 965,
        "startChar": 4,
        "endLine": 965,
        "endChar": 8
      },
      "revId": "f87ef16dbd963f59f6f218565efd9aa7151ef2b7",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c635031b_5d5ea26c",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPack.java",
        "patchSetId": 2
      },
      "lineNbr": 965,
      "author": {
        "id": 150123
      },
      "writtenOn": "2018-03-26T17:12:41Z",
      "side": 1,
      "message": "Yes, that would work - \"refs\" is subsequently used only by sendPack which indeed only requires the tags. I\u0027ve changed it, and added an explanatory comment. I also updated the commit message to explain why filtering on \"refs/tags/\" is sufficient (I checked the C code and it does that too).",
      "parentUuid": "8b29a666_620ddcdd",
      "range": {
        "startLine": 965,
        "startChar": 4,
        "endLine": 965,
        "endChar": 8
      },
      "revId": "f87ef16dbd963f59f6f218565efd9aa7151ef2b7",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
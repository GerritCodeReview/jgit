{
  "comments": [
    {
      "key": {
        "uuid": "87f6139c_88a141f3",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/SignedPushRequiredHook.java",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 951
      },
      "writtenOn": "2015-06-29T19:34:03Z",
      "side": 1,
      "message": "Please add some documentation about how this is intended to be used.\n\nIs it a demo? Is it a way to get clients in the habit of signing pushes before a site operator is ready to turn on verification? Or is the idea that another PreReceiveHook verifies the signature, after this one checks that the signature is present? What is the advantage of having two hooks instead of the one that verifies the signature being responsible for checking that it is present?",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 43
      },
      "revId": "a6e3a1b1a74478252541549b6a7a9ce863d7a0cb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87f6139c_28712d00",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/SignedPushRequiredHook.java",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 383
      },
      "writtenOn": "2015-06-29T19:43:44Z",
      "side": 1,
      "message": "\u003e Is it a demo?\n\nNo.\n\n\u003e Is it a way to get clients in the habit of signing pushes before a site operator is ready to turn on verification?\n\nNo.\n\n\u003e Or is the idea that another PreReceiveHook verifies the signature, after this one checks that the signature is present?\n\nYes.\n\n\u003e What is the advantage of having two hooks instead of the one that verifies the signature being responsible for checking that it is present?\n\na. The verifier hook can be a singleton rather than e.g. taking a boolean parameter in its constructor indicating whether it should require a push cert.\n\nb. This hook can live in JGit even before we have the crypto libraries to support the verifier hook.\n\nNeither is a very strong argument.\n\nAnother alternative is to go back to putting this option in SignedPushConfig despite not existing upstream.",
      "parentUuid": "87f6139c_88a141f3",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 43
      },
      "revId": "a6e3a1b1a74478252541549b6a7a9ce863d7a0cb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87f6139c_c8698919",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/SignedPushRequiredHook.java",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 951
      },
      "writtenOn": "2015-06-29T19:53:33Z",
      "side": 1,
      "message": "My fear is that this makes it too easy to require signed pushes and forget about the verification step and celebrate that one\u0027s installation is more secure.\n\nAs long as the javadoc makes it clear that this is usually accompanied by another PreReceiveHook that does the cert verification or storage, that fear can go away.\n\n(not about this patch) I like the idea of putting the option in SignedPushConfig, whether SignedPushRequiredHook or some other hook does the checking.\n\nThe use case of getting clients in the habit of signing their pushes seems sensible to me, so I guess I like keeping the SignedPushRequiredHook (but either way seems fine).",
      "parentUuid": "87f6139c_28712d00",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 43
      },
      "revId": "a6e3a1b1a74478252541549b6a7a9ce863d7a0cb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87f6139c_0860b127",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/SignedPushRequiredHook.java",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 951
      },
      "writtenOn": "2015-06-29T19:55:14Z",
      "side": 1,
      "message": "(above, by \u0027whether SignedPushRequiredHook or some other hook does the checking\u0027 I mean \u0027regardless of whether SignedPushRequiredHook or some other hook does the checking\u0027)",
      "parentUuid": "87f6139c_c8698919",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 43
      },
      "revId": "a6e3a1b1a74478252541549b6a7a9ce863d7a0cb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87f6139c_8bce5ba5",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/SignedPushRequiredHook.java",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 383
      },
      "writtenOn": "2015-06-29T20:47:41Z",
      "side": 1,
      "message": "\u003e My fear is that this makes it too easy to require signed pushes and forget about the verification step and celebrate that one\u0027s installation is more secure.\n\nIMHO this fear is not unique to requiring signed pushes, it is equally applicable to any installation that optionally accepts signed pushes. Like for example any C git server that just sets receive.certNonceSeed and expects that to do anything besides enable the protocol capability.",
      "parentUuid": "87f6139c_c8698919",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 43
      },
      "revId": "a6e3a1b1a74478252541549b6a7a9ce863d7a0cb",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
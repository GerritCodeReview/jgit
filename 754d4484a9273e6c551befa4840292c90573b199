{
  "comments": [
    {
      "key": {
        "uuid": "f611a413_35ae0e06",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/BitmapCalculator.java",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 150123
      },
      "writtenOn": "2019-05-01T19:56:29Z",
      "side": 1,
      "message": "I\u0027m a bit confused about this hook - this seems to say that it is run upon every non-bitmap commit visited, but from reading the code, it seems that it is run exactly once in the good case (and in the bad case, it is run once on every commit in \"start\"). Can you document this in a more specific way?\n\nThe other issue is that if this is run only exactly once, couldn\u0027t whatever code is necessary be run by the caller before and after this calculator (instead of passing hooks)...but that\u0027s a question for another time - as it is, I can see that this patch just rearranges the logic of BitmapWalker (without adding or removing anything), which makes it much easier to see that it is correct.",
      "revId": "754d4484a9273e6c551befa4840292c90573b199",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "caf084f1_2b7aff4d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/BitmapCalculator.java",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 201156
      },
      "writtenOn": "2019-05-02T17:15:31Z",
      "side": 1,
      "message": "I tried to document it better. \n\nIndeed, the intention here is only to split the basic commit bitmap generation from the full objects bitmap generation. I think the ignoreMissingObject and maybe the plural API can use some love. But I would do that in different commits.",
      "parentUuid": "f611a413_35ae0e06",
      "revId": "754d4484a9273e6c551befa4840292c90573b199",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dd6db0dd_47acdc3c",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/BitmapCalculator.java",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 150123
      },
      "writtenOn": "2019-05-02T19:15:53Z",
      "side": 1,
      "message": "Hmm...that doesn\u0027t seem fully right to me. Usually, a missing object is one that we don\u0027t have in the ODB, not one that does not have a bitmap.\n\nMaybe:\n\nIf there is at least one commit passed to BitmapCalculator#getBitmapFor without a bitmap, a revwalk needs to be performed. This hook will then be invoked before and after the revwalk.\n\nUsually, the revwalk (and, thus, this hook) will only be invoked once no matter how many commits are without bitmaps. However, if any of the commits reference missing objects, and if ignoreMissing is true, multiple revwalks (and, thus, multiple invocations of this hook) will occur - one for each commit without bitmap.",
      "parentUuid": "caf084f1_2b7aff4d",
      "revId": "754d4484a9273e6c551befa4840292c90573b199",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41e37639_aa608e4d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/BitmapCalculator.java",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 150123
      },
      "writtenOn": "2019-05-01T19:56:29Z",
      "side": 1,
      "message": "If you\u0027re already creating a new interface, it\u0027s probably clearer to have the same interface have both pre- and post-, instead of asking the caller to make 2 classes with the same signature.",
      "revId": "754d4484a9273e6c551befa4840292c90573b199",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3c06e87_2cc3f944",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/BitmapCalculator.java",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 201156
      },
      "writtenOn": "2019-05-02T17:15:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "41e37639_aa608e4d",
      "revId": "754d4484a9273e6c551befa4840292c90573b199",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3859b277_53d65375",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/BitmapWalker.java",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 150123
      },
      "writtenOn": "2019-05-01T19:56:29Z",
      "side": 1,
      "message": "Reset these 2 lines to what they were (i.e., don\u0027t include unnecessary whitespace changes).",
      "range": {
        "startLine": 161,
        "startChar": 3,
        "endLine": 161,
        "endChar": 4
      },
      "revId": "754d4484a9273e6c551befa4840292c90573b199",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9944c66a_df5fbd6c",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/revwalk/BitmapWalker.java",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 201156
      },
      "writtenOn": "2019-05-02T17:15:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3859b277_53d65375",
      "range": {
        "startLine": 161,
        "startChar": 3,
        "endLine": 161,
        "endChar": 4
      },
      "revId": "754d4484a9273e6c551befa4840292c90573b199",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
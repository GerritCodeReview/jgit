{
  "comments": [
    {
      "key": {
        "uuid": "8bf1abaa_2547063c",
        "filename": "org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/DiffTool.java",
        "patchSetId": 4
      },
      "lineNbr": 305,
      "author": {
        "id": 228343
      },
      "writtenOn": "2019-03-05T15:49:26Z",
      "side": 1,
      "message": "This does not seem to work properly when comparing two old commits of the same branch. e.g difftool HEAD~3 HEAD~2.\n\nI\u0027ve a possible solution: https://git.eclipse.org/r/#/c/138080/\n\nI could also change that to return an ObjectStream like this method. But similar to now, the ObjectReader will never be closed. -\u003e ResourceLeak",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e069756e_1e117216",
        "filename": "org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/DiffTool.java",
        "patchSetId": 4
      },
      "lineNbr": 305,
      "author": {
        "id": 159690
      },
      "writtenOn": "2019-03-06T09:56:20Z",
      "side": 1,
      "message": "OK, i see, how can we integrate this to the change?",
      "parentUuid": "8bf1abaa_2547063c",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "153bdb28_9381c663",
        "filename": "org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/DiffTool.java",
        "patchSetId": 4
      },
      "lineNbr": 305,
      "author": {
        "id": 159690
      },
      "writtenOn": "2019-03-07T10:54:53Z",
      "side": 1,
      "message": "I do not understand your solution exactly. I thought the problem is that i had a mistake, because only in case of \"cached\" the \"remote\" file opened a stream and in other cases it always passed null as stream --\u003e this was some some adapted code after refactorings. I\u0027ve fixed it now.",
      "parentUuid": "e069756e_1e117216",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "48227a5d_0c941d89",
        "filename": "org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/DiffTool.java",
        "patchSetId": 4
      },
      "lineNbr": 318,
      "author": {
        "id": 228343
      },
      "writtenOn": "2019-03-05T15:49:26Z",
      "side": 1,
      "message": "The ObjectReader is never closed. -\u003e ResourceLeak",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "efa11849_40e940e9",
        "filename": "org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/DiffTool.java",
        "patchSetId": 4
      },
      "lineNbr": 318,
      "author": {
        "id": 159690
      },
      "writtenOn": "2019-03-06T09:56:20Z",
      "side": 1,
      "message": "OK, i\u0027ve added close() methods to ContentSource for closing the ObjectReaders and TreeWalks etc.",
      "parentUuid": "48227a5d_0c941d89",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6730c2e2_1e2ac8a8",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/diffmergetool/CommandExecutor.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 228343
      },
      "writtenOn": "2019-03-05T09:26:25Z",
      "side": 1,
      "message": "This breaks my tools. For example i have the tool:\n\ntestTool $LOCAL $REMOTE\n\nbut when trying to execute\n\n\"testTool \u003cfilename\u003e \u003cfilename\u003e\" \n\nshell obviously can\u0027t find the command. Without the quotation,\nit would find testTool as a command and use the filenames as arguments.\n\n(Im on linux)",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b5a6d9e_b9473ebb",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/diffmergetool/CommandExecutor.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 159690
      },
      "writtenOn": "2019-03-05T10:07:42Z",
      "side": 1,
      "message": "Yes, this is only working at windows (our main OS at company), because it\u0027s running with FS_Win32 and \"cmd /c\" command needs this. I\u0027ve extracted only windows handling for this change, it\u0027s difficult to reduce changes to minimum for review out of big change, We have support for sh/bash (Windows MSYS2 and Linux / OS X). I want to push this as extra change if it\u0027s OK?\n\nsee: TODO:  \"using of external bash at Windows (MinGW) if shell-script is used as\ndifftool command\"",
      "parentUuid": "6730c2e2_1e2ac8a8",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7cfdc2df_4275ed4a",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/diffmergetool/CommandExecutor.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 159690
      },
      "writtenOn": "2019-03-06T09:56:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b5a6d9e_b9473ebb",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "873ce1fc_6f617640",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/diffmergetool/DiffToolManager.java",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 228343
      },
      "writtenOn": "2019-03-05T09:26:25Z",
      "side": 1,
      "message": "Maybe we should also throw an exception for exit codes 126 (permission for executing command denied) and 127 (command not found), even if trust exit code is false.",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa0676fa_9b42b994",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/diffmergetool/DiffToolManager.java",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 159690
      },
      "writtenOn": "2019-03-05T10:07:42Z",
      "side": 1,
      "message": "Yes, i will check the codes for permission and command not found issues (check at Windows, Linux), They should be thrown always.",
      "parentUuid": "873ce1fc_6f617640",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2db9adb0_f5c17de9",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/diffmergetool/DiffToolManager.java",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 159690
      },
      "writtenOn": "2019-03-06T09:56:20Z",
      "side": 1,
      "message": "I\u0027ve added the handling of error codes. After trying of different options, i see no easy solution to check this in case of windows \"cmd /c\", because it does not return clear error code if \"file not found\" etc. It just returs 1 that can be the real error code from the diff tool. The best solution i\u0027ve found is to use \"command file\" for all platforms (already used this solution in the  bigEGit change) --\u003e a temporary file is created with the real command written to it. For windows a batch file (.cmd) is created with extra line \"exit /B %ERRORLEVEL%\" that really returns the system code \"9009\"is the case something cannot be found. For linux/posix we have 126 and 127 that works for Windows Cygwin and MSYS2.\n\nThis looks not easy, but should work in most situations, i hope...",
      "parentUuid": "fa0676fa_9b42b994",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44ce5c61_81ffdb29",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/diffmergetool/FileElement.java",
        "patchSetId": 4
      },
      "lineNbr": 124,
      "author": {
        "id": 228343
      },
      "writtenOn": "2019-03-05T14:43:04Z",
      "side": 1,
      "message": "This is also a problem on linux. When leaving /dev/null it works.",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e213a17_ff5a1f8d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/diffmergetool/FileElement.java",
        "patchSetId": 4
      },
      "lineNbr": 124,
      "author": {
        "id": 159690
      },
      "writtenOn": "2019-03-06T09:56:20Z",
      "side": 1,
      "message": "OK, i\u0027ve tried to have same behaviour like CGit for windows. I think a better solution is just to create always an empty file in case of \"/dev/null\" so it wil work for all difftools. Now kdiff3 just reports error file missing and meld accepts the nul file at windows.\n\nI\u0027ve added second method without workingDir that alwas create temp file if stream is not null or path is \"/dev/null\".\n\nVerfied with kdiff3, meld and p4merge",
      "parentUuid": "44ce5c61_81ffdb29",
      "revId": "ce8892eaaa68d8fe7efe797f3f577d13ee907ac1",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "AABOC3///S8\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "This fails when I pass in [hook1, NULL, NULL, hook2]. The result array will be [hook1, hook2, null, null] and the onPostReceive method will NPE when it tries to invoke the 3rd element.\n\nDon\u0027t try to be cute and filter out the NULL hook.",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Ro\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-08T16:34:07Z",
      "side": 1,
      "message": "Well, this bug is easy to fix. You think it\u0027s just not worth it? What about the other cuteness, returning something that\u0027s not a chain if we don\u0027t have to? I can just go back to public constructors...",
      "parentUuid": "AABOC3///S8\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///OE\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T22:08:08Z",
      "side": 1,
      "message": "It may be worth it for the empty and single element list case:\n\n  if (hooks.size() \u003d\u003d 0)\n    return PostReceiveHook.NULL;\n  if (hooks.size() \u003d\u003d 1)\n    return hooks.get(0);\n  return new PostReceiveHookChain(hooks.toArray(...));\n\nso keep the static factory method. But please fix the NPE. :-)",
      "parentUuid": "AABOC3///Ro\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///N8\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-08T22:16:07Z",
      "side": 1,
      "message": "But IMO the most common case (certainly at least one of the usages I\u0027ve written already) is going to be two elements where one is likely to be NULL:\n\n  void addMyHook(ReceivePack rp) {\n    List\u003cPostReceiveHook\u003e newHooks \u003d new ArrayList\u003cPostReceiveHook\u003e();\n    newHooks.add(rp.getPostReceiveHook());\n    newHooks.add(new MyHook());\n    rp.setPostReceiveHook(PostReceiveHookChain.newChain(newHooks);\n  }\n\nIn this case, if no previous hook was set, then the 0- and 1-element optimizations don\u0027t apply unless you also collapse NULLs.",
      "parentUuid": "AABOC3///OE\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///ME\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-09T02:44:59Z",
      "side": 1,
      "message": "Good point. Then go ahead and do the optimization to remove the NULL instance, but get the length of the final array correct. :-)",
      "parentUuid": "AABOC3///N8\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Iw\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///ME\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///TM\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "line-wrap? this seems pretty long.",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Is\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///TM\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///TI\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "no curly braces",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Io\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PostReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///TI\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///S4\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "same bug",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Ik\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///S4\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Sw\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "maybe line wrap?",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Ig\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///Sw\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///S0\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "curly braces",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Ic\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreReceiveHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///S0\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Sk\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "same bug",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///IY\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///Sk\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///Sg\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "curly braces",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///IU\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///Sg\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///SY\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "curly braces",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///IQ\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///SY\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///SU\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "curly braces",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///IM\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///SU\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///SQ\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "curly braces",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///II\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/PreUploadHookChain.java",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///SQ\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///SI\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPackLoggerChain.java",
        "patchSetId": 2
      },
      "lineNbr": 69,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "same bug",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///IE\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPackLoggerChain.java",
        "patchSetId": 2
      },
      "lineNbr": 69,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///SI\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///SE\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPackLoggerChain.java",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-12-08T16:31:38Z",
      "side": 1,
      "message": "curly braces",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOC3///IA\u003d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/transport/UploadPackLoggerChain.java",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-12-09T17:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AABOC3///SE\u003d",
      "revId": "e960618d036e90f45c8051a2568a1a8612413a63",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "87e453f8_13f88970",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/RepositoryCache.java",
        "patchSetId": 5
      },
      "lineNbr": 192,
      "author": {
        "id": 9
      },
      "writtenOn": "2016-05-31T16:58:29Z",
      "side": 1,
      "message": "static?",
      "revId": "843e40ffb885f211b027e88c2b890360295801ab",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_b3e0b5b6",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/RepositoryCache.java",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 9
      },
      "writtenOn": "2016-05-31T16:58:29Z",
      "side": 1,
      "message": "When this condition is true, the current thread will call repo.doClose() at the line 198.\n\nHowever, if another thread calls RepositoryCache.open(...) for the same repo name before this thread reaches the line 198, it will get the same repo instance which we will doClose at the line 198.",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 196,
        "endChar": 68
      },
      "revId": "843e40ffb885f211b027e88c2b890360295801ab",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_e9db2e99",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/RepositoryCache.java",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 4
      },
      "writtenOn": "2016-05-31T23:38:15Z",
      "side": 1,
      "message": "this race condition also exists and already existed earlier in Repository.close()",
      "parentUuid": "87e453f8_b3e0b5b6",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 196,
        "endChar": 68
      },
      "revId": "843e40ffb885f211b027e88c2b890360295801ab",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87e453f8_cdcf5525",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/RepositoryCache.java",
        "patchSetId": 5
      },
      "lineNbr": 196,
      "author": {
        "id": 6590
      },
      "writtenOn": "2016-06-02T13:08:21Z",
      "side": 1,
      "message": "This race condition also exists in Repository.close() but it\u0027s handled better.\n\nIn Repository.close(), the repo is unregistered form the cache first and then Repository.close method is called. There is still a possibility that another thread get the repo that is getting unregistered and closed but since it uses Repository.close instead of Repository.doClose, the useCnt will be check and repo will not be closed until the second thread close it.",
      "parentUuid": "87e453f8_e9db2e99",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 196,
        "endChar": 68
      },
      "revId": "843e40ffb885f211b027e88c2b890360295801ab",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
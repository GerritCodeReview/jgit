{
  "comments": [
    {
      "key": {
        "uuid": "AABOCX///Pg\u003d",
        "filename": "org.eclipse.jgit.http.server/src/org/eclipse/jgit/http/server/RepositoryFilter.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-11-23T00:28:51Z",
      "side": 1,
      "message": "I know it\u0027s not an issue in practice but I don\u0027t like seeing this kind of quadratic loop. It\u0027s barely longer to do with a single substring call:\n\nif (name !\u003d null) {\n  int notSlash;\n  while (notSlash \u003c\u003d name.length() \u0026\u0026 name.charAt(notSlash) \u003d\u003d \u0027/\u0027)\n    notSlash++;\n  name \u003d name.substring(notSlash);\n}\n\n(or substitute your favorite for loop variant)",
      "revId": "9d311b333347d13ff2f9e0b7109e6b164a3643cc",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOCX///PI\u003d",
        "filename": "org.eclipse.jgit.http.server/src/org/eclipse/jgit/http/server/RepositoryFilter.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1
      },
      "writtenOn": "2011-11-23T00:33:18Z",
      "side": 1,
      "message": "Its not really quadratic in Java. substring(n) returns a new String object that uses the same underlying character array. The cost is just the new String object construction, its quite low.\n\nMost cases this loop runs at most once. Given both of these facts, it is more readable to use the shorter two-line version of the logic than to use the longer version that tries to avoid creating intermediate String objects in the case that additional unnecessary leading slashes are supplied.\n\nPremature optimization being evil and all of that... :-)",
      "parentUuid": "AABOCX///Pg\u003d",
      "revId": "9d311b333347d13ff2f9e0b7109e6b164a3643cc",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AABOCX///O0\u003d",
        "filename": "org.eclipse.jgit.http.server/src/org/eclipse/jgit/http/server/RepositoryFilter.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 383
      },
      "writtenOn": "2011-11-23T00:43:08Z",
      "side": 1,
      "message": "Huh, ISTR hearing from a reputable source that substring didn\u0027t return a view of the same backing array due to creating uncollectable garbage. But I just checked the relevant JRE bug[1] and it seems to be working-as-intended.\n\nI agree it is not an issue here due to the typically small number of trailing leading slashes.\n\n[1] http://bugs.sun.com/bugdatabase/view_bug.do?bug_id\u003d4513622",
      "parentUuid": "AABOCX///PI\u003d",
      "revId": "9d311b333347d13ff2f9e0b7109e6b164a3643cc",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
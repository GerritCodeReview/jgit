{
  "comments": [
    {
      "key": {
        "uuid": "7334e75b_fa86bcb0",
        "filename": "org.eclipse.jgit.lfs.test/tst/org/eclipse/jgit/lfs/internal/LfsConnectionFactoryTest.java",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 44628
      },
      "writtenOn": "2022-01-18T19:28:37Z",
      "side": 1,
      "message": "Thanks for the additional tests. But this tests that the .lfsconfig file itself got checked out correctly. That wasn\u0027t what I was worried about. I was wondering about the case where the two commits actually do have LFS pointer objects. Will they always fetch from the right server on checkout? Will they also do so if the LFS object has a name that comes before \".lfsconfig\" in git order?",
      "revId": "dbbc30754a567faa8dee09ec4e69790818aec2af",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df9ee61a_ff82b5e2",
        "filename": "org.eclipse.jgit.lfs.test/tst/org/eclipse/jgit/lfs/internal/LfsConnectionFactoryTest.java",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 307044
      },
      "writtenOn": "2022-01-21T08:02:14Z",
      "side": 1,
      "message": "OK, I see your point. I have though about the problem a little bit and also written some test cases. I came up to 2 different cases that should be addressed:\n1. The .lfsconfig changes from one branch to another (or in reset). Currently the old .lfsconfig is used for files that are checked out before the .lfsconfig and the new .lfsconfig is used for files checked out after. This behavior could be assumed as correct regarding to the specification that states \"use the .lfs config in the working tree first\", although it is a little bit strange and unintuitive.\n2. The .lfs config has changed in the working directory. In this case the modified working version is used. This should be ok and stay like this.\n\nThe only valid solution for this problem seems to be to checkout the .lfsconfig first. Alone I have no idea how to achieve this behavior. Currently the checkout order is not \"well defined\" since the entries to be checked out are put into a dictionary/set where the order is undefined by default.",
      "parentUuid": "7334e75b_fa86bcb0",
      "revId": "dbbc30754a567faa8dee09ec4e69790818aec2af",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9023a525_04bb2adc",
        "filename": "org.eclipse.jgit.lfs.test/tst/org/eclipse/jgit/lfs/internal/LfsConnectionFactoryTest.java",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 44628
      },
      "writtenOn": "2022-01-21T08:47:53Z",
      "side": 1,
      "message": "All right. Can we first establish what happens in such a case on the command line with C git and the \"normal\" Github LFS support? (Might not be easy, since if you just create a local repo with such a setup, it\u0027ll have the cached blobs already and won\u0027t fetch at all on branch switching. At least I think so. One might need to remove the blobs under .git somewhere first before trying a branch switch.)\n\n.gitattributes and .gitignore are similar, but those are known to git and handled specially. But .lfsconfig is, like all LFS stuff, unknown to core git...\n\nI also wonder what happens if one checks out a single path, and that path is an LFS pointer, but the .lfsconfig in the workspace has a different URL than the one in the commit. That might be even easier to test. (And in fact, might be a more common case than having an LFS pointer with a name that comes before .lfsconfig in git order.)\n\nBut in the end, these are obscure corner cases. If it\u0027s too difficult to figure this out, I\u0027m fine with putting this in as-is. (But then please remove this test -- it\u0027s well written, but tests simple file checkout, which is tested umpteen times already elsewhere.) If this .lfsconfig implementation does something different than on the command line, we\u0027ll get a bug report about it.\n\n(Note: I can\u0027t test this myself. Have no LFS setp, and never needed LFS.)",
      "parentUuid": "df9ee61a_ff82b5e2",
      "revId": "dbbc30754a567faa8dee09ec4e69790818aec2af",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": true
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "a7c23755_2fe83d28",
        "filename": "org.eclipse.jgit.test/tst/org/eclipse/jgit/internal/storage/dfs/DfsBlockCacheTest.java",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 925
      },
      "writtenOn": "2017-01-14T08:35:38Z",
      "side": 1,
      "message": "cache",
      "range": {
        "startLine": 104,
        "startChar": 13,
        "endLine": 104,
        "endChar": 17
      },
      "revId": "587e4be06e569267c15a38950174e0e96ed02a8d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7c23755_cfdee98a",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsBlockCache.java",
        "patchSetId": 1
      },
      "lineNbr": 265,
      "author": {
        "id": 925
      },
      "writtenOn": "2017-01-14T08:35:38Z",
      "side": 1,
      "message": "Is this comment still relevant?",
      "range": {
        "startLine": 263,
        "startChar": 2,
        "endLine": 265,
        "endChar": 40
      },
      "revId": "587e4be06e569267c15a38950174e0e96ed02a8d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7c23755_352dea19",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsBlockCache.java",
        "patchSetId": 1
      },
      "lineNbr": 265,
      "author": {
        "id": 74655
      },
      "writtenOn": "2017-01-16T07:02:25Z",
      "side": 1,
      "message": "Yes, it is. This change will only remove pack file which have been replaced (see the change in DfsObjDatabase). But \"live\" packs are still continued to be cashed. Initially I had another change in the DfsRepository which would remove everything associated with that repository from the cache in its #doClose method. But I have removed it since the cache would benefit from having these cached if the repository is opened again? I guess the control over the entries included in here is something which has to be maintained from outside?",
      "parentUuid": "a7c23755_cfdee98a",
      "range": {
        "startLine": 263,
        "startChar": 2,
        "endLine": 265,
        "endChar": 40
      },
      "revId": "587e4be06e569267c15a38950174e0e96ed02a8d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7c23755_4c7c9c5b",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsBlockCache.java",
        "patchSetId": 1
      },
      "lineNbr": 265,
      "author": {
        "id": 1628
      },
      "writtenOn": "2017-01-18T03:06:59Z",
      "side": 1,
      "message": "We do see a huge benefit from doing affinity routing of requests for the same repository to the server which last served that repository. Clearing the cache on repository close would defeat that, so that behavior needs to be directed from a higher level.\n\nI think this comment can go away, but it has been in this file for 5+ years (since the original check in) so I\u0027ll check with Shawn when he is back in the office. It can stay in here until we hear back from him.",
      "parentUuid": "a7c23755_352dea19",
      "range": {
        "startLine": 263,
        "startChar": 2,
        "endLine": 265,
        "endChar": 40
      },
      "revId": "587e4be06e569267c15a38950174e0e96ed02a8d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7c23755_6cc4f8a7",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsBlockCache.java",
        "patchSetId": 1
      },
      "lineNbr": 409,
      "author": {
        "id": 1628
      },
      "writtenOn": "2017-01-18T03:06:59Z",
      "side": 1,
      "message": "IIUC, table writes should be protected by lockFor(key, position);",
      "range": {
        "startLine": 409,
        "startChar": 0,
        "endLine": 409,
        "endChar": 47
      },
      "revId": "587e4be06e569267c15a38950174e0e96ed02a8d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7c23755_0fe54151",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsObjDatabase.java",
        "patchSetId": 1
      },
      "lineNbr": 296,
      "author": {
        "id": 925
      },
      "writtenOn": "2017-01-14T08:35:38Z",
      "side": 1,
      "message": "Add\n\n \u0026\u0026 !replaces.isEmpty()\n\nto avoid potentially getting the cache instance unnecessarily on the next line?",
      "range": {
        "startLine": 296,
        "startChar": 22,
        "endLine": 296,
        "endChar": 23
      },
      "revId": "587e4be06e569267c15a38950174e0e96ed02a8d",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "c4a0014e_e1fb7216",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T21:30:04Z",
      "side": 1,
      "message": "Shouldn\u0027t this contain this.signingKey somehow?",
      "range": {
        "startLine": 131,
        "startChar": 20,
        "endLine": 131,
        "endChar": 33
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f0fca3c_8d250ddd",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-12-03T22:34:08Z",
      "side": 1,
      "message": "I haven\u0027t fully looked into how URIish is being used. There is an issue with GPG and the new KeyBox format. We basically try to use the passphrase for opening all keys we find in the directory. There is no clear path for accessing the keys. GPG wants to force all access through the agent, which we cannot do with BC.",
      "parentUuid": "c4a0014e_e1fb7216",
      "range": {
        "startLine": 131,
        "startChar": 20,
        "endLine": 131,
        "endChar": 33
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f209b08_b97dc188",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T23:06:19Z",
      "side": 1,
      "message": "The URIish is used for two things:\n\n1. It is shown to the user; so it may tell him which key he\u0027s being asked a passphrase for.\n\n2. It is used as a key in Eclipse secure store to store and retrieve the passphrase.",
      "parentUuid": "5f0fca3c_8d250ddd",
      "range": {
        "startLine": 131,
        "startChar": 20,
        "endLine": 131,
        "endChar": 33
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb119ca9_e3fdee85",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 184,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T21:30:04Z",
      "side": 1,
      "message": "Error messages should be externalized.",
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e0734cd_cc23e3bb",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 184,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-12-03T22:34:08Z",
      "side": 1,
      "message": "We are throwing PGPException and treating them internal, i.e. their message  might end up in a log but should never hit the user. Users might see a better error message later on.\n\nHowever, I\u0027m not sure this will survive, i.e. we might just end up replacing PGPException with a JGit exception and proper text.",
      "parentUuid": "cb119ca9_e3fdee85",
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15d9b6fc_b704984c",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 219,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T21:30:04Z",
      "side": 1,
      "message": "Can\u0027t we use a CredentialItem.Password here? Otherwise the EGitCredentialProvider will need to be changed; IIRC it only stores Password items in the Eclipse secure store. We don\u0027t want to ask the user on each commit.",
      "range": {
        "startLine": 219,
        "startChar": 2,
        "endLine": 219,
        "endChar": 15
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "290342ff_ee18d18b",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 219,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-12-03T22:34:08Z",
      "side": 1,
      "message": "I don\u0027t mind changing EGitCredentialProvider to also cache passphrases. Yes, it has to be properly stored in the secure store *or* cached for the duration of the Eclipse session. Similar to how Eclipse handles SSH keys right now, i.e. it only asks once until Eclipse is restarted.",
      "parentUuid": "15d9b6fc_b704984c",
      "range": {
        "startLine": 219,
        "startChar": 2,
        "endLine": 219,
        "endChar": 15
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae924398_4068b2f1",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 219,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T23:06:19Z",
      "side": 1,
      "message": "Eh -- unless I made a mistake, with the Apache MINA ssh client at least key passphrases should be stored in the Eclipse secure store, so the user should not get prompted at all once has has entered a correct passphrase for the first time. (Except being asked for the master password of the secure store, of course, or if he changes the passphrase on the key or replaces the key.)\n\nNow the JSch client may get it wrong; IIRC it even queries passphrases for keys using plain strings.",
      "parentUuid": "290342ff_ee18d18b",
      "range": {
        "startLine": 219,
        "startChar": 2,
        "endLine": 219,
        "endChar": 15
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eef91a10_b03a3935",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 220,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T21:30:04Z",
      "side": 1,
      "message": "You added a credentialPassphrase...",
      "range": {
        "startLine": 220,
        "startChar": 19,
        "endLine": 220,
        "endChar": 37
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a96442b4_c618b681",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 220,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-12-03T22:34:08Z",
      "side": 1,
      "message": "Good catch!",
      "parentUuid": "eef91a10_b03a3935",
      "range": {
        "startLine": 220,
        "startChar": 19,
        "endLine": 220,
        "endChar": 37
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21b766a3_85791188",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 222,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T21:30:04Z",
      "side": 1,
      "message": "I\u0027d prefer passing through the CredentialsProvider from the CommitCommand. (Which would of course need a setter for this first.)",
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "920705ab_48af5b47",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 222,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-12-03T22:34:08Z",
      "side": 1,
      "message": "This should be doable. I\u0027ll do this in a follow up commit, though.",
      "parentUuid": "21b766a3_85791188",
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4dac03c0_b82d0040",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T21:30:04Z",
      "side": 1,
      "message": "Move this into a finally block.",
      "range": {
        "startLine": 242,
        "startChar": 4,
        "endLine": 242,
        "endChar": 23
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20900672_bf701f07",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-12-03T22:34:08Z",
      "side": 1,
      "message": "I cannot do that. The passphrase should only be cleared when we don\u0027t find a key and or there is an error. Upon success I\u0027d want to cache it until I finally extract the private key for signing later on.",
      "parentUuid": "4dac03c0_b82d0040",
      "range": {
        "startLine": 242,
        "startChar": 4,
        "endLine": 242,
        "endChar": 23
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "881bbaa8_1b426ff5",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T23:06:19Z",
      "side": 1,
      "message": "Ack. Had overlooked that.",
      "parentUuid": "20900672_bf701f07",
      "range": {
        "startLine": 242,
        "startChar": 4,
        "endLine": 242,
        "endChar": 23
      },
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2236c563_6b1a0f26",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 255,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T21:30:04Z",
      "side": 1,
      "message": "Missing curly braces.",
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5803c040_fb2ccd0d",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 255,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-12-03T22:34:08Z",
      "side": 1,
      "message": "Weird. I thought this would be handled by the Eclipse formatter?",
      "parentUuid": "2236c563_6b1a0f26",
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "22c5671b_1160d864",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgKeyHelper.java",
        "patchSetId": 4
      },
      "lineNbr": 255,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T23:06:19Z",
      "side": 1,
      "message": "No. Unfortunately there\u0027s no way to teach the Eclipse formatter to apply that setting only to changed lines. It always insists on doing it in the whole file, which frequently leads to many unrelated changes. So we don\u0027t have that option enabled and instead supply missing braces manually.\n\nThere\u0027s more above, BTW. (Lines 182, 187, 197)",
      "parentUuid": "5803c040_fb2ccd0d",
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54dfec93_bfc2c3b8",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgSigner.java",
        "patchSetId": 4
      },
      "lineNbr": 155,
      "author": {
        "id": 44628
      },
      "writtenOn": "2018-12-03T21:30:04Z",
      "side": 1,
      "message": "Why does this have to be in chunks of at most 4k? Does update modify the array? Is\n\n  signature.update(originalData, 0, originalData.length);\n\nwrong?",
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "481835aa_defcf1ef",
        "filename": "org.eclipse.jgit/src/org/eclipse/jgit/lib/internal/BouncyCastleGpgSigner.java",
        "patchSetId": 4
      },
      "lineNbr": 155,
      "author": {
        "id": 17
      },
      "writtenOn": "2018-12-03T22:34:08Z",
      "side": 1,
      "message": "good point",
      "parentUuid": "54dfec93_bfc2c3b8",
      "revId": "019037423e52118da61e2f2410a4557792cb1169",
      "serverId": "97ee7c02-f12f-4043-b43e-dea463d88b31",
      "unresolved": false
    }
  ]
}